(()=>{"use strict";const e=window.wc.blocksCheckout,t=window.React,a=window.wp.element,o=window.wp.data,n=({checkoutExtensionData:n,checkbox:r})=>{const c="on"===r.activation;let s=(0,t.createElement)(t.Fragment,null),i=!1;const l="german-market-checkbox-"+r.id;let m=r.text;const k=r.error_text,d=r.optin,[h,u]=(0,a.useState)(!1),{setExtensionData:p}=n,{setValidationErrors:g,clearValidationError:x}=(0,o.useDispatch)("wc/store/validation"),E=(0,o.useSelect)((e=>e("wc/store/checkout").isProcessing())),{showAllValidationErrors:b}=(0,o.useDispatch)("wc/store/validation");(0,a.useEffect)((()=>{E&&b()}),[E]),(0,a.useEffect)((()=>{!c||"on"!=d||h?(p("german-market-store-api-integration",r.id,h&&c),"on"==d&&x(l)):g({[l]:{message:k,hidden:!0}})}),[x,g,h,p,r]);const{validationError:w}=(0,o.useSelect)((e=>({validationError:e("wc/store/validation").getValidationError(l)})));return c&&("on"===d&&(m+='&nbsp;<span class="required">*</span>',!1===w?.hidden&&(m+='<div class="wc-block-components-validation-error"><p>'+w.message+"</p></div>",i=!0)),r.info_text&&(m+='<span class="german-market-checkbox-info">'+r.info_text+"</span>"),s=(0,t.createElement)("span",{className:"german-market-checkbox",dangerouslySetInnerHTML:{__html:m}}),"on"!==d&&"optional"!==d||(s=(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e.CheckboxControl,{id:l,checked:h,onChange:u,hasError:i},(0,t.createElement)("span",{className:"german-market-checkbox",dangerouslySetInnerHTML:{__html:m}}))))),s},r=JSON.parse('{"apiVersion":2,"name":"german-market/checkout-checkboxes","version":"2.0.0","title":"German Market Checkboxes","category":"german-market","description":"Adds the German Market checkboxes to the checkout","supports":{"html":false,"align":false,"multiple":false,"reusable":true,"lock":false},"parent":["woocommerce/checkout-fields-block","woocommerce/checkout-totals-block"],"textdomain":"woocommerce-german-market"}');(0,e.registerCheckoutBlock)({metadata:r,component:({checkoutExtensionData:e,extensions:a,children:o})=>{let r=[];if(a["german-market-store-api-integration"]){const e=a["german-market-store-api-integration"].checkboxes;r=Object.values(e)}return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"german-market-block-checkout-checkboxes"},r.map((a=>(0,t.createElement)(n,{key:a.id,checkoutExtensionData:e,checkbox:a})))))}})})();