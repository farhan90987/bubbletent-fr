!function(e){e.fn.inputsToArray=function(){let a=this.map(function(){return this.elements?jQuery.makeArray(this.elements):this});return a.filter((e,a)=>null!=a.value).map((a,t)=>"checkbox"==t.type&&!1==t.checked?{name:t.name,value:t.checked?t.value:""}:jQuery.isArray(t.value)?jQuery.map(e(this).val(),function(e,a){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:t.value.replace(/\r?\n/g,"\r\n")}).get()},e(document).on("click touchend",".single_add_to_cart_button:not(.disabled)",function(a){var t;let n=e(this),r=n.closest("form.cart");if(r.hasClass("gift-cards_form"))return;let d=r.find('input:not([name="product_id"]), select, button, textarea').inputsToArray()||0;e.each(d,function(e,a){"add-to-cart"==a.name&&(a.name="product_id",a.value=r.find("input[name=variation_id]").val()||n.val()||a.value)}),a.preventDefault(),e(document.body).trigger("adding_to_cart",[n,d]),n.removeClass("added").addClass("loading");let l=(t=[...d],jQuery.ajax({type:"POST",url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:t}));return l.done(a=>{n.addClass("added").removeClass("loading"),a.error&a.product_url||e(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,n])}),!1})}(jQuery);